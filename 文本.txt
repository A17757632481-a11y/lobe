<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8" />
  <title>ä¸æ»‘çˆ±å¿ƒç²’å­ H5</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no" />
  <style>
    html, body {
      margin: 0;
      padding: 0;
      overflow: hidden;
      background: #000;
      touch-action: none; /* å…³é”®ï¼šé˜²æ­¢æµè§ˆå™¨æŠ¢æ‰‹åŠ¿ */
    }
    #gesture {
      position: fixed;
      right: 14px;
      bottom: 14px;
      background: rgba(0,0,0,0.55);
      color: #fff;
      padding: 8px 12px;
      border-radius: 12px;
      font-size: 13px;
      pointer-events: none;
      backdrop-filter: blur(6px);
    }
  </style>
</head>
<body>

<div id="gesture">ğŸ¤ åŒæŒ‡ç¼©æ”¾</div>

<script src="https://unpkg.com/three@0.160.0/build/three.min.js"></script>
<script src="https://unpkg.com/three@0.160.0/examples/js/controls/OrbitControls.js"></script>

<script>
  // ======================
  // åœºæ™¯
  // ======================
  const scene = new THREE.Scene()

  // ç›¸æœºï¼ˆæ‰‹æœºè§†è§’æ›´èˆ’æœï¼‰
  const camera = new THREE.PerspectiveCamera(
    70,
    window.innerWidth / window.innerHeight,
    0.1,
    500
  )
  camera.position.z = 80

  // æ¸²æŸ“å™¨ï¼ˆç§»åŠ¨ç«¯ä¼˜åŒ–ï¼‰
  const renderer = new THREE.WebGLRenderer({
    antialias: true,
    powerPreference: 'high-performance'
  })
  renderer.setPixelRatio(Math.min(window.devicePixelRatio, 2))
  renderer.setSize(window.innerWidth, window.innerHeight)
  document.body.appendChild(renderer.domElement)

  // ======================
  // æ§åˆ¶å™¨ï¼ˆä¸æ»‘å…³é”®ï¼‰
  // ======================
  const controls = new THREE.OrbitControls(camera, renderer.domElement)
  controls.enableRotate = false
  controls.enablePan = false
  controls.enableZoom = true
  controls.enableDamping = true
  controls.dampingFactor = 0.08
  controls.minDistance = 30
  controls.maxDistance = 150

  // ======================
  // â¤ï¸ çˆ±å¿ƒ Shapeï¼ˆä½é¢æ•°ï¼‰
  // ======================
  const heart = new THREE.Shape()
  heart.moveTo(0, 0)
  heart.bezierCurveTo(0, 0, -4, -4, -8, 0)
  heart.bezierCurveTo(-12, 8, -4, 16, 0, 20)
  heart.bezierCurveTo(4, 16, 12, 8, 8, 0)
  heart.bezierCurveTo(4, -4, 0, 0, 0, 0)

  const geometry = new THREE.ShapeGeometry(heart, 6)

  const material = new THREE.MeshBasicMaterial({
    color: 0xff3333,
    side: THREE.DoubleSide
  })

  // ======================
  // çˆ±å¿ƒç²’å­ç»„
  // ======================
  const group = new THREE.Group()

  const COUNT = 400   // æ‰‹æœºå‹å¥½æ•°é‡
  for (let i = 0; i < COUNT; i++) {
    const mesh = new THREE.Mesh(geometry, material)
    mesh.position.set(
      (Math.random() - 0.5) * 160,
      (Math.random() - 0.5) * 160,
      (Math.random() - 0.5) * 160
    )
    const s = Math.random() * 0.25 + 0.08
    mesh.scale.set(s, s, s)
    mesh.rotation.z = Math.random() * Math.PI
    group.add(mesh)
  }

  scene.add(group)

  // ======================
  // åŠ¨ç”»ï¼ˆè½»ã€æ…¢ã€ç¨³ï¼‰
  // ======================
  function animate() {
    requestAnimationFrame(animate)
    group.rotation.y += 0.0008
    group.rotation.x += 0.0004
    controls.update()
    renderer.render(scene, camera)
  }

  animate()

  // ======================
  // è‡ªé€‚åº”
  // ======================
  window.addEventListener('resize', () => {
    camera.aspect = window.innerWidth / window.innerHeight
    camera.updateProjectionMatrix()
    renderer.setSize(window.innerWidth, window.innerHeight)
  })
</script>

</body>
</html>